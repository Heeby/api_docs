var WebSocket=require("ws"),crypto=require("crypto"),w=new WebSocket("wss://api2.bitfinex.com:3000/ws");w.onmessage=function(e){console.log(e.data)};var api_key="OFLIhlV93Bynrfk1spzb0ubvT0NFN9db4viZrLBa4Iu",api_secret="A69WVB4hD4u9l7kxTBHmBglX70CcODnbmS6fjX0JG7r",payload="AUTH"+(new Date).getTime(),signature=crypto.createHmac("sha384",api_secret).update(payload).digest("hex");w.onopen=function(){w.send(JSON.stringify({Event:"auth",ApiKey:api_key,AuthSig:signature,AuthPayload:payload}))};