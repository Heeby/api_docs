<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all_nosearch.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["javascript"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
      <div id="toc">
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="general">General</h1>

<p>The Bitfinex websocket API is extremely straightforward. Offering 
4 channels, it can be implemented in minutes. It provides you with 
realtime updates on many different aspects of your account and the 
market at Bitfinex.</p>

<p>For more information on websockets see the link below</p>

<p><em>RFC</em>: https://tools.ietf.org/html/rfc6455</p>

<h3 id="bitfinex-official-libraries">Bitfinex official libraries</h3>

<ul>
<li>ruby: https://github.com/bitfinexcom/bitfinex-api-rb</li>
<li>node: https://github.com/bitfinexcom/bitfinex-api-node</li>
</ul>

<h3 id="ssl-websocket-connection">SSL Websocket Connection</h3>

<p>URI: <code class="prettyprint">wss://api2.bitfinex.com:3000/ws</code></p>

<h3 id="message-encoding">Message encoding</h3>

<p>Each message sent and received via the Bitfinex&rsquo;s websocket channel is encoded in JSON format</p>

<h3 id="public-channels">Public Channels</h3>

<ul>
<li><strong>Book:</strong> order book feed (BTCUSD, LTCUSD, LTCBTC)</li>
<li><strong>Ticker:</strong> ticker feed (BTCUSD, LTCUSD, LTCBTC)</li>
<li><strong>Trades:</strong> trades feed (BTCUSD, LTCUSD, LTCBTC)</li>
</ul>

<h3 id="authenticated-channels">Authenticated Channels</h3>

<ul>
<li><strong>Account Info:</strong> account specific private data (positions, orders, executed trades, balances)</li>
</ul>

<h2 id="how-to-connect">How to Connect</h2>

<p>Open up a websocket connection to the websocket URI.</p>

<blockquote>
<h3 id="example">Example</h3>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">w</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WebSocket</span><span class="p">(</span><span class="s2">"wss://api2.bitfinex.com:3000/ws"</span><span class="p">);</span> 
<span class="nx">w</span><span class="p">.</span><span class="nx">onmessage</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">msg</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span> <span class="p">};</span>
</code></pre>

<h2 id="error-codes">Error Codes</h2>

<p>In case of error, you receive a message containing the proper error code (<code class="prettyprint">Code</code> JSON field).</p>

<p>Generic Error Codes</p>

<ul>
<li>10000 : Unknown event</li>
<li>10001 : Unknown pair</li>
</ul>

<h2 id="ping-pong">Ping/Pong</h2>

<p>Use <code class="prettyprint">ping</code> message to test your connection to the websocket server.</p>

<blockquote>
<h3 id="request">Request</h3>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w"> 
</span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ping"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<h3 id="response">Response</h3>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w"> 
</span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pong"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h2 id="subscribe-to-channels">Subscribe to Channels</h2>

<p>To receive data from a channel you have to send a &ldquo;subscribe&rdquo; message first.</p>

<blockquote>
<h3 id="request">Request</h3>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w"> 
</span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
</span><span class="nt">"Channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CHANNEL_NAME"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<h3 id="response-success">Response - Success</h3>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w"> 
</span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribed"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"Channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CHANNEL_NAME"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"ChanId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;CHANNEL_ID&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<h3 id="response-failure">Response - Failure</h3>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w"> 
</span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"Msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;ERROR_MSG&gt;"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;ERROR_CODE&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="snapshot">Snapshot</h3>

<p>Upon subscribing to a channel an initial snapshot is sent. Typically, 
the snapshot will have as its first item, the ChanId, its second item 
will be an array of update messages (each of which is itself an array).
So The array would have 3 levels.</p>

<blockquote>
<h3 id="snapshot">Snapshot</h3>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w"> </span><span class="s2">"&lt;Chan Id&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="p">[</span><span class="s2">"&lt;Group of Update Messages&gt;"</span><span class="p">,</span><span class="w">
        </span><span class="p">[</span><span class="s2">"&lt;Update Message&gt;"</span><span class="p">]</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<h3 id="update">Update</h3>

<p>After receiving the snapshot, you will receive updates upon any change.</p>

<p><strong>Notes</strong></p>

<p>Channel ID&rsquo;s allow you to keep track of the messages, they are static 
per session, you will receive both the CHANNEL_NAME and the ChanId
in the response to a subscription message.
* CHANNEL_NAME: (string) channel name (book, trades, ticker)
* ChanId/CHANNEL_ID: (int) channel identificator. ChanId is a numeric channel identificator that the developer can use to distinguish the updates for each subscribed channel. </p>

<h3 id="error-codes">Error Codes</h3>

<ul>
<li>10300 : Subscription failed (generic)</li>
<li>10301 : Already subscribed</li>
<li>10302 : Unknown channel</li>
</ul>

<h2 id="unsubscribe-to-channels">Unsubscribe to Channels</h2>

<p>To stop receiving data from a channel you have to send a &ldquo;unsubscribe&rdquo; message.</p>

<blockquote>
<h3 id="request">Request</h3>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w"> 
</span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsubscribe"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"ChanId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;CHANNEL_ID&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>or</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w"> 
</span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsubscribe"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"Channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;CHANNEL_NAME&gt;"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"Pair"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;PAIR&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<h3 id="response-success">Response - Success</h3>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
</span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unsubscribed"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"ChanId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;CHANNEL_ID&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<h3 id="response-failure">Response - Failure</h3>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w"> 
</span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"Msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;ERROR_MSG&gt;"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;ERROR_CODE&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="error-codes">Error Codes</h3>

<ul>
<li>10400 : Subscription failed (generic)</li>
<li>10401 : Not subscribed </li>
</ul>

<h1 id="public-channels">Public Channels</h1>

<hr>

<h2 id="order-books">Order Books</h2>

<p>The Order Books channel allow you to keep track of the state of the Bitfinex order book. 
It is provided on a price aggregated basis, with customizable precision. 
After receiving the response, you will receive a snapshot of the book, 
followed by updates upon any changes to the book.</p>

<blockquote>
<h3 id="example">Example</h3>
</blockquote>
<pre class="highlight javascript"><code><span class="nx">w</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="s2">"Event"</span><span class="p">:</span> <span class="s2">"subscribe"</span><span class="p">,</span> <span class="na">Channel</span><span class="p">:</span> <span class="s2">"trades"</span><span class="p">,</span> <span class="na">Pair</span><span class="p">:</span> <span class="s2">"BTCUSD"</span><span class="p">,</span> <span class="na">Prec</span><span class="p">:</span> <span class="s2">"P0"</span> <span class="p">}))</span>
</code></pre>

<blockquote>
<h3 id="request">Request:</h3>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w"> 
</span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"Channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"book"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"Pair"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;PAIR&gt;"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"Prec"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;PRECISION&gt;"</span><span class="w"> 
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<h3 id="response">Response</h3>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w"> 
</span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribed"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"Channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"book"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"ChanId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;CHANNEL_ID&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<h3 id="snapshot">Snapshot:</h3>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="s2">"&lt;CHANNEL_ID&gt;"</span><span class="p">,</span><span class="w"> </span><span class="p">[[</span><span class="s2">"&lt;PRICE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;COUNT&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;AMOUNT&gt;"</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="s2">"..."</span><span class="p">]]]</span><span class="w">
</span></code></pre>

<blockquote>
<h3 id="updates">Updates:</h3>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="s2">"&lt;CHANNEL_ID&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;PRICE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;COUNT&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;AMOUNT&gt;"</span><span class="p">]</span><span class="w">
</span></code></pre>

<h3 id="fields">Fields</h3>

<table><thead>
<tr>
<th>Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>PRECISION</td>
<td>string</td>
<td>Level of price aggregation (P0, P1, P2, P3). The default is P0.</td>
</tr>
<tr>
<td>COUNT</td>
<td>int</td>
<td>Number of orders at that price level.</td>
</tr>
<tr>
<td>AMOUNT</td>
<td>float</td>
<td>Total amount available at that price level. Positive values mean bid, negative values mean ask.</td>
</tr>
</tbody></table>

<h4 id="precision-levels-per-pair">Precision Levels per Pair</h4>

<table><thead>
<tr>
<th>Pair</th>
<th>Precision Level</th>
<th>Number of decimal places</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>BTCUSD</td>
<td>P0</td>
<td>2</td>
<td>$0.01</td>
</tr>
<tr>
<td>&hellip;</td>
<td>P1</td>
<td>1</td>
<td>$0.10</td>
</tr>
<tr>
<td>&hellip;</td>
<td>P2</td>
<td>0</td>
<td>$1</td>
</tr>
<tr>
<td>&hellip;</td>
<td>P3</td>
<td>-1</td>
<td>$10</td>
</tr>
<tr>
<td>LTCUSD</td>
<td>P0</td>
<td>4</td>
<td>$0.0001</td>
</tr>
<tr>
<td>&hellip;</td>
<td>P1</td>
<td>3</td>
<td>$0.001</td>
</tr>
<tr>
<td>&hellip;</td>
<td>P2</td>
<td>2</td>
<td>$0.01</td>
</tr>
<tr>
<td>&hellip;</td>
<td>P3</td>
<td>1</td>
<td>$0.1</td>
</tr>
<tr>
<td>LTCBTC</td>
<td>P0</td>
<td>6</td>
<td>฿0.000001</td>
</tr>
<tr>
<td>&hellip;</td>
<td>P1</td>
<td>5</td>
<td>฿0.00001</td>
</tr>
<tr>
<td>&hellip;</td>
<td>P2</td>
<td>4</td>
<td>฿0.0001</td>
</tr>
<tr>
<td>&hellip;</td>
<td>P3</td>
<td>3</td>
<td>฿0.001</td>
</tr>
</tbody></table>

<h3 id="error-codes">Error Codes</h3>

<ul>
<li>10011 : Unknown Book precision</li>
<li>10012 : Unknown Book length</li>
</ul>

<h2 id="trades">Trades</h2>

<p>This channel sends a trade message whenever a trade occurs at Bitfinex. 
It includes all the pertinent details of the trade, 
such as price, size and time.</p>

<blockquote>
<h3 id="example">Example</h3>
</blockquote>
<pre class="highlight javascript"><code><span class="nx">w</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="s2">"Event"</span><span class="p">:</span> <span class="s2">"subscribe"</span><span class="p">,</span> <span class="na">Channel</span><span class="p">:</span> <span class="s2">"trades"</span><span class="p">,</span> <span class="na">Pair</span><span class="p">:</span> <span class="s2">"BTCUSD"</span> <span class="p">}))</span>
</code></pre>

<blockquote>
<h3 id="request">Request:</h3>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w"> 
</span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"Channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trades"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"Pair"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="w"> 
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<h3 id="response">Response:</h3>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w"> 
</span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribed"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"Channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trades"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"ChanId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;CHANNEL_ID&gt;"</span><span class="w"> 
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<h3 id="snapshot">Snapshot</h3>
</blockquote>
<pre class="highlight javascript"><code><span class="p">[</span><span class="s2">"&lt;CHANNEL_ID&gt;"</span><span class="p">,</span> <span class="p">[</span><span class="s2">"&lt;ID&gt;"</span><span class="p">,</span> <span class="s2">"&lt;TIMESTAMP&gt;"</span><span class="p">,</span> <span class="s2">"&lt;PRICE&gt;"</span><span class="p">,</span> <span class="s2">"&lt;AMOUNT&gt;"</span><span class="p">],</span> <span class="p">[</span><span class="s2">"..."</span><span class="p">]]</span>
</code></pre>

<blockquote>
<h3 id="updates">Updates</h3>
</blockquote>
<pre class="highlight javascript"><code><span class="p">[</span><span class="s2">"&lt;CHANNEL_ID&gt;"</span><span class="p">,</span> <span class="s2">"&lt;ID&gt;"</span><span class="p">,</span> <span class="s2">"&lt;TIMESTAMP&gt;"</span><span class="p">,</span> <span class="s2">"&lt;PRICE&gt;"</span><span class="p">,</span> <span class="s2">"&lt;AMOUNT&gt;"</span><span class="p">]</span>
</code></pre>

<p><em>here is an example of a real trade</em></p>

<p>[ 5, 11928301, 1443659698, 236.42, 0.49064538 ],</p>

<h3 id="fields">Fields</h3>

<table><thead>
<tr>
<th>Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>int</td>
<td>A Bitfinex trade ID</td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>int</td>
<td>Unix timestamp of the trade.</td>
</tr>
<tr>
<td>PRICE</td>
<td>float</td>
<td>Price at which the trade was executed</td>
</tr>
<tr>
<td>AMOUNT</td>
<td>float</td>
<td>How much was bought (positive) or sold (negative). The order that causes the trade determines if it is a buy or a sell.</td>
</tr>
</tbody></table>

<h2 id="ticker">Ticker</h2>

<p>The ticker is a high level overview of the state of the market. 
It shows you the current best bid and ask, as well as the last trade 
price. It also includes information such as daily volume and how 
much the price has moved over the last day.</p>

<blockquote>
<h3 id="example">Example</h3>
</blockquote>
<pre class="highlight javascript"><code><span class="nx">w</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="s2">"Event"</span><span class="p">:</span> <span class="s2">"subscribe"</span><span class="p">,</span> <span class="na">Channel</span><span class="p">:</span> <span class="s2">"ticker"</span><span class="p">,</span> <span class="na">Pair</span><span class="p">:</span> <span class="s2">"BTCUSD"</span> <span class="p">}))</span>
</code></pre>

<blockquote>
<h3 id="request">Request:</h3>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w"> 
</span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"Channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ticker"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"Pair"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="w"> 
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<h3 id="response">Response:</h3>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w"> 
</span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribed"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"Channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ticker"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"ChanId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;CHANNEL_ID&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<h3 id="snapshot">Snapshot</h3>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="s2">"&lt;CHANNEL_ID&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;BID&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;BID_SIZE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ASK&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ASK_SIZE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;DAILY_CHANGE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;DAILY_CHANGE_PERC&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;LAST_PRICE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;VOLUME&gt;"</span><span class="p">]</span><span class="w">
</span></code></pre>

<blockquote>
<h3 id="updates">Updates</h3>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="s2">"&lt;CHANNEL_ID&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;BID&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;BID_SIZE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ASK&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ASK_SIZE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;DAILY_CHANGE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;DAILY_CHANGE_PERC&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;LAST_PRICE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;VOLUME&gt;"</span><span class="p">]</span><span class="w">
</span></code></pre>

<p><em>Here is an example of a real ticker</em></p>

<p>[ 2, 236.62, 9.0029, 236.88, 7.1138, -1.02, 0, 236.52, 5191.36754297 ]</p>

<h3 id="fields">Fields</h3>

<table><thead>
<tr>
<th>Fields</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>BID</td>
<td>float</td>
<td>Price of last highest bid</td>
</tr>
<tr>
<td>BID_SIZE</td>
<td>float</td>
<td>Size of the last highest bid</td>
</tr>
<tr>
<td>ASK</td>
<td>float</td>
<td>Price of last lowest ask</td>
</tr>
<tr>
<td>ASK_SIZE</td>
<td>float</td>
<td>Size of the last lowest ask</td>
</tr>
<tr>
<td>DAILY_CHANGE</td>
<td>float</td>
<td>Amount that the last price has changed since yesterday</td>
</tr>
<tr>
<td>DAILY_CHANGE_PERC</td>
<td>float</td>
<td>Amount that the price has changed expressed in percentage terms</td>
</tr>
<tr>
<td>LAST_PRICE</td>
<td>float</td>
<td>Price of the last trade.</td>
</tr>
<tr>
<td>VOLUME</td>
<td>float</td>
<td>Daily volume</td>
</tr>
</tbody></table>

<h1 id="authenticated-channels">Authenticated Channels</h1>

<hr>

<h2 id="account-info">Account Info</h2>

<p>This channel allows you to keep up to date with the status of 
your account. You can receive updates on your positions, 
your balances, your orders and your trades.</p>

<p>Account info always uses ChanId 0.</p>

<blockquote>
<h3 id="example">Example</h3>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">crypto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'crypto'</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">api_key</span> <span class="o">=</span> <span class="s1">'API_KEY'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">api_secret</span> <span class="o">=</span> <span class="s1">'API_SECRET'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">payload</span> <span class="o">=</span> <span class="s1">'AUTH'</span> <span class="o">+</span> <span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">getTime</span><span class="p">());</span>

<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s2">"sha384"</span><span class="p">,</span> <span class="nx">api_secret</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">payload</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>

<span class="nx">w</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">Event</span><span class="p">:</span> <span class="s2">"auth"</span><span class="p">,</span> <span class="na">ApiKey</span><span class="p">:</span> <span class="nx">api_key</span><span class="p">,</span> <span class="na">AuthSig</span><span class="p">:</span> <span class="nx">signature</span><span class="p">,</span> <span class="na">AuthPayload</span><span class="p">:</span> <span class="nx">payload</span> <span class="p">}));</span>
</code></pre>

<blockquote>
<h3 id="request">Request</h3>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w"> 
</span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auth"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"ApiKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;API_KEY&gt;"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"AuthSig"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;AUTH_SIGNATURE&gt;"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"AuthPayload"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;AUTH_PAYLOAD&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<h3 id="response-success">Response - Success</h3>
</blockquote>
<pre class="highlight json"><code><span class="w">
</span><span class="p">{</span><span class="w"> 
</span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auth"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OK"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"ChanId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"UserId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;USER_ID&gt;"</span><span class="w"> 
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<h3 id="response-failure">Response - Failure</h3>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w"> 
</span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"auth"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FAIL"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"ChanId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
</span><span class="nt">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;ERROR_CODE&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<h3 id="position-snapshot">Position Snapshot</h3>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s2">"ps"</span><span class="p">,</span><span class="w"> </span><span class="p">[[</span><span class="s2">"&lt;POS_PAIR&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;POS_STATUS&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;POS_AMOUNT&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;POS_BASE_PRICE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;POS_MARGIN_FUNDING&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;POS_MARGIN_FUNDING_TYPE&gt;"</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="s2">"..."</span><span class="p">]]]</span><span class="w">
</span></code></pre>

<h4 id="fields">Fields</h4>

<table><thead>
<tr>
<th>Term</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>POS_PAIR</td>
<td>string</td>
<td>Pair (BTCUSD, LTCUSD, LTCBTC).</td>
</tr>
<tr>
<td>POS_STATUS</td>
<td>string</td>
<td>Status (ACTIVE, CLOSED).</td>
</tr>
<tr>
<td>±POS_AMOUNT</td>
<td>float</td>
<td>Size of the position. Positive values means a long position, negative values means a short position.</td>
</tr>
<tr>
<td>POS_BASE_PRICE</td>
<td>float</td>
<td>The price at which you entered your position.</td>
</tr>
<tr>
<td>POS_MARGIN_FUNDING</td>
<td>float</td>
<td>The amount of funding being used for this position.</td>
</tr>
<tr>
<td>POS_MARGIN_FUNDING_TYPE</td>
<td>int</td>
<td>0 for term, 1 for daily.</td>
</tr>
</tbody></table>

<blockquote>
<h3 id="wallet-snapshot">Wallet Snapshot</h3>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s2">"ws"</span><span class="p">,</span><span class="w"> </span><span class="p">[[</span><span class="s2">"&lt;WLT_NAME&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;WLT_CURRENCY&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;WLT_BALANCE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;WLT_INTEREST_UNSETTLED&gt;"</span><span class="p">]]]</span><span class="w">
</span></code></pre>

<h3 id="fields">Fields</h3>

<table><thead>
<tr>
<th>Term</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>WLT_NAME</td>
<td>string</td>
<td>Wallet name (exchange, trading, deposit)</td>
</tr>
<tr>
<td>WLT_BALANCE</td>
<td>float</td>
<td>Wallet balance</td>
</tr>
<tr>
<td>WLT_INTEREST_UNSETTLED</td>
<td>float</td>
<td>Unsettled interest</td>
</tr>
</tbody></table>

<blockquote>
<h3 id="order-snapshot">Order Snapshot</h3>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s2">"os"</span><span class="p">,</span><span class="w"> </span><span class="p">[[</span><span class="s2">"&lt;ORD_ID&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_PAIR&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_AMOUNT&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_AMOUNT_ORIG&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_TYPE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_STATUS&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_PRICE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_PRICE_AVG&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_CREATED_AT&gt;"</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="s2">"..."</span><span class="p">]]]</span><span class="w">
</span></code></pre>

<h3 id="fields">Fields</h3>

<table><thead>
<tr>
<th>Term</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ORD_ID</td>
<td>int</td>
<td>order id</td>
</tr>
<tr>
<td>ORD_PAIR</td>
<td>string</td>
<td>Pair (BTCUSD, LTCUSD, LTCBTC)</td>
</tr>
<tr>
<td>±ORD_AMOUNT</td>
<td>float</td>
<td>Positive means buy, negative means sell.</td>
</tr>
<tr>
<td>±ORD_AMOUNT_ORIG</td>
<td>float</td>
<td>Original amount</td>
</tr>
<tr>
<td>ORD_TYPE</td>
<td>string</td>
<td>The type of the order (LIMIT, STOP, TRAILING STOP, &hellip;).</td>
</tr>
<tr>
<td>ORD_STATUS</td>
<td>string</td>
<td>Status (ACTIVE, EXECUTED, PARTIALLY FILLED, &hellip;)</td>
</tr>
<tr>
<td>ORD_PRICE</td>
<td>float</td>
<td>Price</td>
</tr>
<tr>
<td>ORD_PRICE_AVG</td>
<td>float</td>
<td>Average price</td>
</tr>
<tr>
<td>ORD_CREATED_AT</td>
<td>string</td>
<td>Creation date/time</td>
</tr>
</tbody></table>

<blockquote>
<h3 id="updates-position">Updates (position)</h3>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;pn|pu|pc&gt;"</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s2">"&lt;POS_PAIR&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;POS_STATUS&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;POS_AMOUNT&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;POS_BASE_PRICE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;POS_MARGIN_FUNDING&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;POS_MARGIN_FUNDING_TYPE&gt;"</span><span class="p">]]</span><span class="w">
</span></code></pre>

<blockquote>
<h3 id="updates-wallet">Updates (wallet)</h3>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s2">"wu"</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s2">"&lt;WLT_NAME&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;WLT_CURRENCY&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;WLT_BALANCE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;WLT_INTEREST_UNSETTLED&gt;"</span><span class="p">]]</span><span class="w">
</span></code></pre>

<blockquote>
<h3 id="updates-order">Updates (order)</h3>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;on|ou|oc&gt;"</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s2">"&lt;ORD_ID&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_PAIR&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_AMOUNT&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_AMOUNT_ORIG&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_TYPE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_STATUS&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_PRICE&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_PRICE_AVG&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_CREATED_AT&gt;"</span><span class="p">]]</span><span class="w">
</span></code></pre>

<blockquote>
<h3 id="updates-trade_executed">Updates (trade_executed)</h3>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s2">"te"</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s2">"&lt;ORD_ID&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;ORD_AMOUNT_EXECUTED&gt;"</span><span class="p">]]</span><span class="w">
</span></code></pre>

<h3 id="notes">Notes</h3>

<ul>
<li>AUTH request message: authenticate for the private data stream

<ul>
<li>API_KEY: (string) Bitfinex&rsquo;s api key</li>
<li>AUTH_SIGNATURE: (string) HMAC-sha384 signature</li>
</ul></li>
</ul>

<h3 id="abbreviated-terms-glossary">Abbreviated Terms Glossary</h3>

<table><thead>
<tr>
<th>Term</th>
<th>Definition</th>
</tr>
</thead><tbody>
<tr>
<td>ps</td>
<td>position snapshot</td>
</tr>
<tr>
<td>pn</td>
<td>new position</td>
</tr>
<tr>
<td>pu</td>
<td>position update</td>
</tr>
<tr>
<td>pc</td>
<td>position close</td>
</tr>
<tr>
<td>ws</td>
<td>wallet snapshot</td>
</tr>
<tr>
<td>wu</td>
<td>wallet update</td>
</tr>
<tr>
<td>os</td>
<td>order snapshot</td>
</tr>
<tr>
<td>on</td>
<td>new order</td>
</tr>
<tr>
<td>ou</td>
<td>order update</td>
</tr>
<tr>
<td>oc</td>
<td>order cancel</td>
</tr>
<tr>
<td>te</td>
<td>trade executed</td>
</tr>
</tbody></table>

<h3 id="error-codes">Error Codes</h3>

<ul>
<li>10100 : Authentication failure (generic)</li>
<li>10101 : Already authenticated</li>
<li>10102 : Authentication Payload Error</li>
<li>10103 : Authentication Signature Error</li>
<li>10104 : Authentication HMAC Error</li>
</ul>

<h2 id="unauthentication">Unauthentication</h2>

<blockquote>
<h3 id="request">Request</h3>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w"> 
</span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unauth"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<h3 id="response-success">Response - Success</h3>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w"> 
</span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unauth"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OK"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"ChanId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<h3 id="response-failure">Response - Failure</h3>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w"> 
</span><span class="nt">"Event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
</span><span class="nt">"Status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FAILED"</span><span class="p">,</span><span class="w"> 
</span><span class="nt">"ChanId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
</span><span class="nt">"Code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;CODE&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="error-codes">Error Codes</h3>

<ul>
<li>10201 : Not authenticated</li>
</ul>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
